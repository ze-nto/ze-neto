"use strict";function debounce(n,o){let s;return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s&&clearTimeout(s),s=setTimeout(()=>{n(...t),s=null},o)}}class Slide{constructor(e,t){this.slide=document.querySelector(e),this.wrapper=document.querySelector(t),this.dist={finalPosition:0,startX:0,movement:0},this.activeClass="activeCertificate"}transition(e){this.slide.style.transition=e?"transform .3s":""}moveSlide(e){this.dist.movePosition=e,this.slide.style.transform="translate3d(".concat(e,"px, 0, 0)")}updatePosition(e){return this.dist.movement=2*(this.dist.startX-e),this.dist.finalPosition-this.dist.movement}onStart(e){let t;t="mousedown"===e.type?(e.preventDefault(),this.dist.startX=e.clientX,"mousemove"):(this.dist.startX=e.changedTouches[0].clientX,"touchmove"),this.wrapper.addEventListener(t,this.onMove),this.transition(!1)}onMove(e){e=("mousemove"===e.type?e:e.changedTouches[0]).clientX,e=this.updatePosition(e);this.moveSlide(e)}onEnd(e){e="mouseup"===e.type?"mousemove":"touchmove";this.wrapper.removeEventListener(e,this.onMove),this.dist.finalPosition=this.dist.movePosition,this.transition(!0),this.changeSlideOnEnd()}changeSlideOnEnd(){120<this.dist.movement&&void 0!==this.index.next?this.activeNextSlide():this.dist.movement<-120&&void 0!==this.index.prev?this.activePrevSlide():this.changeSlide(this.index.active)}addSlideEvents(){this.wrapper.addEventListener("mousedown",this.onStart),this.wrapper.addEventListener("mouseup",this.onEnd),this.wrapper.addEventListener("touchstart",this.onStart),this.wrapper.addEventListener("touchend",this.onEnd)}slidePosition(e){var t=(this.wrapper.offsetWidth-e.offsetWidth)/2;return-(e.offsetLeft-t)}slidesConfig(){this.slideArray=[...this.slide.children].map(e=>{return{position:this.slidePosition(e),element:e}})}slideIndexNav(e){var t=this.slideArray.length-1;this.index={prev:e?e-1:void 0,active:e,next:e===t?void 0:e+1}}changeSlide(e){var t=this.slideArray[e];this.moveSlide(t.position),this.slideIndexNav(e),this.dist.finalPosition=t.position,this.changeActiveClass()}changeActiveClass(){this.slideArray.forEach(e=>e.element.classList.remove(this.activeClass)),this.slideArray[this.index.active].element.classList.add(this.activeClass)}activePrevSlide(){void 0!==this.index.prev&&this.changeSlide(this.index.prev)}activeNextSlide(){void 0!==this.index.next&&this.changeSlide(this.index.next)}onResize(){setTimeout(()=>{this.slidesConfig(),this.changeSlide(this.index.active)},1e3)}addResizeEvent(){window.addEventListener("resize",this.onResize)}bindEvents(){this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.onResize=debounce(this.onResize.bind(this),200),this.activeNextSlide=this.activeNextSlide.bind(this),this.activePrevSlide=this.activePrevSlide.bind(this)}init(){return this.slide&&(this.bindEvents(),this.transition(!0),this.addSlideEvents(),this.slidesConfig(),this.addResizeEvent(),this.changeSlide(1)),this}}class SlideNav extends Slide{addArrow(e,t){this.prevElemnt=document.querySelector(e),this.nextElemnt=document.querySelector(t),this.addArrowEvents()}addArrowEvents(){this.prevElemnt.addEventListener("click",this.activePrevSlide),this.nextElemnt.addEventListener("click",this.activeNextSlide)}createControl(){const i=document.createElement("ul");i.dataset.control="slide",this.slideArray.forEach((e,t)=>{i.innerHTML+='<li><a href="#slide'.concat(t+1,'">').concat(t+1,"</a></li>")}),this.wrapper.appendChild(i)}}function slideInit(){const e=new SlideNav(".slide",".slideWrap");e.init(),e.changeSlide(1)}function showAboutMe(){const t=document.querySelector(".about__more"),i=document.querySelector(".about_hidedAboutInfo");t.addEventListener("click",e=>{e.preventDefault(),i.classList.toggle("about_showHidedAboutInfo"),"Mais sobre mim"==t.innerText?(t.innerText="Mostrar menos",t.setAttribute("data-arrow","▲")):(t.innerText="Mais sobre mim",t.setAttribute("data-arrow","▼"))}),ageCount()}function ageCount(){const e=document.querySelector(".age");var t=(new Date).getFullYear();8<=(new Date).getMonth?e.innerText="".concat(t-1986," anos"):e.innerText="".concat(t-1986-1," anos")}function activeButtons(){const e=document.querySelectorAll(".project__action button");e.forEach(e=>{e.addEventListener("click",showModal)})}function feedProjectCard(e){const t=document.querySelector(".project-container");e.forEach(e=>{""==e.mainImage&&(e.mainImage="public/img/no-image.png");e=createCard(e);t.appendChild(e),activeButtons()})}function createCard(e){let t=document.createElement("article");t.classList.add("project"),t.id=e.id;e='\n    <div class="project__head">\n      <span class="project__title">'.concat(e.name,'</span>\n      <div class="project__links">\n        <a class="project__links-item disabled" href="').concat(e.repository,'" target="_blanket" rel="noreferrer">\n            <i class="fab fa-github"></i>\n            <span>Código</span>     \n        </a>\n        <a class="project__links-item" href="').concat(e.url,'" target="_blanket">\n            <i class="fas fa-desktop"></i></fas>\n            <span>Visualizar</spa>     \n        </a>    \n      </div> \n    </div>\n    <div class="project__image">\n        <img src="').concat(e.mainImage,'" alt="Screenshot do projeto ').concat(e.name,'">\n    </div>\n    <div class="project__description">\n        ').concat(e.description,'\n    </div>\n    <div class="project__action">\n        <button>Descrição completa</button>\n    </div>\n  ');return t.innerHTML=e,t}let currentLastProjectIndex=4,deletedNumber=4;async function fetchProjects(){let e=[],t=(0==e.length&&(e=await getData()),0),i=[];for(;t<currentLastProjectIndex;)i.push(e[t]),++t;4<currentLastProjectIndex&&(i.splice(0,deletedNumber),deletedNumber+=4),currentLastProjectIndex+=4,feedProjectCard(i),filterInit()}async function fetchFilteredProjects(){const e=document.querySelector(".list.active > a");let t=e.getAttribute("data-tech");const i=document.querySelector(".project-container");"todos"==t?(currentLastProjectIndex=4,deletedNumber=4,i.innerHTML="",await fetchProjects()):(i.innerHTML="",feedProjectCard(data.filter(e=>e.technologies.includes(t)))),filterInit()}async function projectFetchButtonInit(){const e=document.querySelector(".project__fetch");e.addEventListener("click",async()=>{const e=document.querySelector(".list.active > a");var t=e.getAttribute("data-tech");"todos"==t?await fetchProjects():await fetchFilteredProjects(t)})}function filterInit(){const e=document.querySelectorAll(".list");e.forEach(e=>{e.classList.contains("active")?e.removeEventListener("click",fetchFilteredProjects):e.addEventListener("click",fetchFilteredProjects)})}function activeLink(){const i=document.querySelectorAll(".list");i.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),i.forEach(e=>e.classList.remove("active"));let t=e.target.parentNode.parentNode;t.classList.add("active"),activeLink()})})}if(window.innerWidth<600){mobileFilterInit();let e=document.querySelectorAll(".list");e.forEach(e=>{e.classList.contains("active")||e.addEventListener("click",()=>{setTimeout(fetchFilteredProjects,500)})})}function mobileFilterInit(){let n=document.querySelector(".navigation"),o=document.querySelector(".navigation ul"),s=document.querySelectorAll(".list");s.forEach((t,i)=>t.addEventListener("click",e=>{e.preventDefault(),t.classList.contains("active")?(o.style.transform="translateY(0)",n.classList.toggle("visible"),o.style.transition="none"):(n.classList.remove("visible"),s.forEach(e=>e.classList.remove("active")),t.classList.add("active"),s=document.querySelectorAll(".list"),o.style.transition="all .6s",o.style.transform="translateY(calc(-50px * ".concat(i,"))"))}))}function flipCard(){const t=document.querySelector(".about__endWrapper");t.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("flipCard")})}let data;async function getData(){let e=await fetch("./data/portfolio.json");return data=await e.json(),data}async function includeHead(){const e=document.querySelector("head"),t=await fetch("./includes/head.html");var i=await t.text();e.innerHTML=i}async function includeFooter(){const e=await fetch("./includes/footer.html");var t=await e.text();const i=document.createElement("footer");i.innerHTML=t,document.body.appendChild(i)}function mobileMenu(){const t=document.querySelector("body"),i=document.querySelector(".mobile-btn"),n=document.querySelector(".mobile__menu");i.addEventListener("click",e=>{e.preventDefault(),n.classList.toggle("showMenu"),i.classList.toggle("active"),t.classList.toggle("hidden")})}mobileMenu();const modal=document.getElementById("modal"),body=document.getElementsByTagName("body")[0],fechar=document.querySelector(".modal__close");async function getModalContent(t){let e=await fetch("./data/portfolio.json"),i=await e.json();const n=i.filter(e=>e.id==t)[0];let o=document.createElement("div"),s="",a=(n.technologies&&n.technologies.forEach(e=>{s+='<span class="'.concat(e,'">').concat(e,"</span>")}),"");n.topics&&n.topics.forEach(e=>{a+="  <li>".concat(e,"</li>")});var c=a?"Técnicas e Métodos Utilizados":"",c=(o.innerHTML="\n    <h2>".concat(n.name,'</h2>\n    <div class="modal__pillsContainer">\n      ').concat(s,"\n    </div>\n    <p>").concat(n.description,'</p> \n    <div class="tecnicas">\n      <h4>').concat(c,"</h4>\n      <ul>\n        ").concat(a,"\n      </ul>\n    </div>\n  "),'\n  <a class="modal__link github" href='.concat(n.repository,'>\n    <i class="fab fa-github"></i> Repositório GitHub\n  </a>\n  <a class="modal__link liveproject" href=').concat(n.url,'>\n    <i class="fas fa-link"></i> Ver Projeto Online\n  </a>\n  '));let r="";n.images&&n.images.forEach(e=>{r+='<img src="'.concat(e,'"/>')}),o.classList.add("content"),document.querySelector(".modal__content").appendChild(o),document.querySelector(".modal__linksWrap").innerHTML=c,document.querySelector(".modal__imagesContainer").innerHTML=r}function showModal(e){e.preventDefault(),fechar.addEventListener("click",closeModal),modal.classList.add("show-modal"),body.classList.add("overflow"),getModalContent(e.target.parentNode.parentNode.id)}function closeModal(){var e=document.querySelector(".content");document.querySelector(".modal__content").removeChild(e),body.classList.remove("overflow"),modal.classList.remove("show-modal")}function pageMarker(){const e=document.querySelectorAll(".header__navlist ul a");e.forEach(e=>{if(e.getAttribute("href")==document.location.pathname&&(e.classList.add("isHere"),e.style.cursor="default",e.addEventListener("click",e=>e.preventDefault())),"/"==document.location.pathname){let e=document.querySelectorAll(".header__navlist ul a")[0];e.classList.add("isHere")}})}function initPdfButton(){const e=document.querySelector(".about__pdfButton");e.addEventListener("mouseover",function(){e.classList.add("showFullButton")}),e.addEventListener("mouseleave",function(){e.classList.remove("showFullButton")})}pageMarker(),"/index.html"!=window.location.pathname&&"/"!=window.location.pathname||(fetchProjects(),activeLink(),filterInit(),projectFetchButtonInit()),"/sobre.html"==window.location.pathname&&(includeFooter(),showAboutMe(),flipCard(),initPdfButton(),slideInit()),"/contatos.html"==window.location.pathname&&includeFooter();